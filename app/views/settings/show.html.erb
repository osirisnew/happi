<% meta title: t(".heading", team_name: current_team.name) %>

<div class="max-w-md mx-auto">
  <%= tag.h2 t(".heading", team_name: current_team.name), class: "mb-6 text-center text-xl lg:text-2xl font-bold text-gray-900" %>

  <div class="bg-gray-50 rounded-2xl p-6 mb-6">
    <%= tag.h3 t(".team_members"), class: "text-center text-lg font-bold text-gray-800 mb-3" %>

    <%= render @team_members %>

    <div class="flex">
      <%= text_field_tag :inbox_email, join_team_url(code: current_team.invite_code), disabled: true, class: "text-center bg-white text-gray-700 border-2 border-gray-200 w-full rounded-md" %>
    </div>

    <p class="mt-3 text-sm text-center"><%= t(".invite_instructions") %></p>
  </div>

  <div class="bg-gray-50 rounded-2xl p-6 mb-6">
    <%= tag.h3 t(".upload_logo"), class: "text-center text-lg font-bold text-gray-800 mb-3" %>

    <% if current_team.has_logo? %>
      <%= image_tag current_team.logo.variant(resize_to_fit: [800, 160]), class: "block h-12 mx-auto mb-4" %>
    <% end %>

    <%= form_with(model: current_team, url: logo_upload_team_path(current_team), method: :put, class: "styled-form") do |f| %>
      <div class="flex items-center">
        <div class="flex-auto flex-shrink-1 mr-2">
          <%= f.file_field :logo, class: "block w-full" %>
        </div>
        <%= f.submit t(".upload_logo_button"), class: "button -primary -rounded flex-shrink-0" %>
      </div>
    <% end %>

    <p class="mt-3 text-sm text-center"><%= t(".logo_instructions") %></p>
  </div>

  <div class="bg-gray-50 rounded-2xl p-6 mb-6">
    <%= tag.h3 t(".inbound_email"), class: "text-center text-lg font-bold text-gray-800 mb-3" %>

    <div class="flex">
      <%= text_field_tag :inbox_email, "#{current_team.default_mailbox}", disabled: true, class: "text-center bg-white text-gray-700 border-2 border-gray-200 w-full rounded-md" %>
    </div>

    <p class="mt-3 text-sm text-center"><%= t(".forward_instructions") %></p>
  </div>

  <div class="bg-gray-50 rounded-2xl p-6 mb-6">
    <%= tag.h3 t(".custom_emails"), class: "text-center text-lg font-bold text-gray-800 mb-3" %>

    <%= render @custom_emails %>

    <%= render partial: "custom_email_addresses/form" %>

    <p class="mt-3 text-sm text-center"><%= t(".custom_email_setup") %></p>
  </div>
</div>

